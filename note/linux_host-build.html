<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux网站搭建手册 - 小V吃鱼卡到了</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="http://www.zhuimengle.com/theme/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="http://www.zhuimengle.com/theme/css/niu2.min.css" type="text/css" />

    <link rel="canonical" href="http://www.zhuimengle.com/note/linux_host-build.html" />
    
    <script type="text/javascript">window.onload=function(){};</script>
    <!--[if lt IE 9]>
        <script src="http://www.zhuimengle.com/theme/js/html5shiv.js"></script>
        <script src="http://www.zhuimengle.com/theme/js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body> 
    <div id="body-header">
<div class="navbar navbar-inverse navbar-fixed-top">
<div class="col-md-12">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.zhuimengle.com">
            <i class="fa fa-home"></i>小V吃鱼卡到了
        </a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        <ul class="nav navbar-nav">
            <li><a href="/about.html" title="about me">
                <i class="fa fa-anchor"></i>关于</a>
            </li>
            <li><a href="/agreement.html" title="agreement">
                <i class="fa fa-info-circle"></i>使用协议</a>
            </li>
            <li><a href="/my_projects.html" title="my projects">
                <i class="fa fa-rocket"></i>项目</a>
            </li>
            <li><a href="/archives.html" title="blog archives">
                <i class="fa fa-archive"></i>存档</a>
            </li>
            <li><a href="/tag/" title="blog tags">
                <i class="fa fa-tag"></i>标签</a>
            </li>
        <!-- category dropdown list -->
        <li class="dropdown">
           <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <i class="fa fa-folder-open"></i>分类<b class="caret"></b>
           </a>
           <ul class="dropdown-menu">
               <li><a href="http://www.zhuimengle.com/note/index.html">
                      <i class="fa fa-book"></i>印象-笔记
                      (88)</a></li>
               <li><a href="http://www.zhuimengle.com/research/index.html">
                      <i class="fa fa-flask"></i>实验室
                      (2)</a></li>
           </ul>
        </li>
        <!--  self defined dropdown list -->
        </ul>
        
        <!-- right nav bar -->
        <ul class="nav navbar-nav navbar-right">
        <!-- google custom search -->
       </ul>
    </nav>
</div>
</div>    </div>
    
    <div id="body-content">
<div class="col-md-8 col-md-offset-2">
    <h1 id="content-heading">Linux网站搭建手册</h1>
</div>
<div id="niu2-left-container" class="col-md-6 col-md-offset-2 with-right-border">
    <div id="niu2-main-content">
        <p>本手册的内容主要包括需要安装的软件及其配置，和常见问题及其解决方案。</p>
<ul>
<li>OS    : debian6 squeeze</li>
<li>Php   : php5</li>
<li>Wiki  : dokuwiki</li>
<li>CMS   : wordpress3</li>
<li>Server: nginx 1.2.4</li>
<li>DB    : mysql 5.1</li>
<li>DB-UI : phpmyadmin</li>
</ul>
<h2 id="1c934df157d95df9325c628e742feb1b">debian5 lenny</h2>
<p>有些vps服务商（比如diahosting）只支持debian5，下面是一些常见的问题和升级到debian6的步骤。</p>
<h3 id="29e37abe3cf455f5819d6274678b2289">软件源问题</h3>
<p>如果在使用apt-get update命令的时候出现404错误，可能是因为debian5的软件仓库已被转移到archive.debian.org，而默认的软件源列表依然使用ftp.debian.org。因此正常使用之前需要先修改/etc/apt/sources.list，可参考下面的软件源列表。</p>
<div class="codehilite"><pre># debian5 lenny

deb http://archive.debian.org/debian/ lenny main contrib non-free
deb-src http://archive.debian.org/debian/ lenny main contrib non-free

deb http://archive.debian.org/debian-security lenny/updates main contrib non-free
deb-src http://archive.debian.org/debian-security lenny/updates main contrib non-free

deb http://archive.debian.org/debian-volatile lenny/volatile main contrib non-free
deb-src http://archive.debian.org/debian-volatile lenny/volatile main contrib non-free
</pre></div>


<p>修改sources.list之后需要安装archive.debian.org的key。</p>
<div class="codehilite"><pre>apt-get install debian-archive-keyring
</pre></div>


<p>最后，运行<code>apt-get update</code>更新列表。</p>
<h3 id="3836cdb0f6cf90e1bd8759b67c3d798d">升级到debian6</h3>
<p>debian支持无缝升级，因此从debian5升级到debian6很方便。按照<a href="http://leven.co/blog/view/133">这里</a>的教程执行相关的步骤即可。</p>
<h4 id="f2d31f875b6098119e9345bd0e2ad04c">1. 修改本机的hostname</h4>
<p>hostname保存于<code>/etc/hostname</code>，修改后运行<code>hostname -F /etc/hostname</code>设置域名。</p>
<h4 id="75db7a4e1339540addaeeb39ee7a0693">2. 更新软件源</h4>
<p>将软件源列表修改为debian6的软件源，可参考下面的sources.list文件。</p>
<div class="codehilite"><pre># debian6 squeeze

deb http://ftp.debian.org/debian/ squeeze main
deb-src http://ftp.debian.org/debian/ squeeze main

deb http://security.debian.org/ squeeze/updates main
deb-src http://security.debian.org/ squeeze/updates main

# dotdeb key: http://www.dotdeb.org/dotdeb.gpg

deb http://packages.dotdeb.org stable all 
deb-src http://packages.dotdeb.org stable all

# varnish

# deb http://repo.varnish-cache.org/debian/ squeeze varnish-3.0
</pre></div>


<p>修改sources.list后记得运行<code>apt-get update</code>更新软件列表。</p>
<h4 id="7e8607cd87af77eb2f4f1c38d5db85ed">3. 开始升级</h4>
<p>到这里，升级前的准备工作基本都已完成。如果是通过ssh远程连接到服务器进行升级的话，为了防止网络异常等问题导致升级失败，可以使用screen辅助升级，screen可以保证在ssh断开的情况下继续在服务器上运行升级程序，针对screen的详细介绍可参考<a href="http://www.9usb.net/201002/linux-screen-mingling.html">这里</a>。
首先使用<code>apt-get install screen</code>安装screen程序，然后运行<code>screen -S debian-upgrade</code>开启一个名为<code>debian-upgrade</code>的screen会话。之后即可运行<code>apt-get dist-upgrade</code>升级系统。升级期间ssh如果断开，则重新连接后运行<code>screen -r debian-upgrade</code>便可恢复到之前的screen会话。</p>
<h2 id="3ee6760cf9add779dc9af759c652bc82">debian6 squeeze</h2>
<h3 id="56b7eb1c7e53f37471bb52aa15507b5f">常用软件</h3>
<p>常用软件列表可参考<a href="/tools/debian/software">这里</a>。</p>
<h3 id="6fa04de0e2d17f04382753f0f7cdbdfa">邮件设置</h3>
<h4 id="623916b1abbe57601f3e7b6e4822555c">exim4 安装和配置</h4>
<p>安装exim4。
<code>apt-get install exim4</code>
参考<a href="http://zww.me/archives/25688">这篇文章</a>配置exim4。</p>
<div class="codehilite"><pre>dpkg-reconfigure exim4-config
</pre></div>


<p>第一个页面选择<code>internet site</code>，之后的默认即可。
重启exim4</p>
<div class="codehilite"><pre>service exim4 restart
</pre></div>


<p>修改配置文件以允许发送超过50M的文件。在/etc/exim4/update-exim4.conf.conf的末尾添加如下一行。</p>
<div class="codehilite"><pre>MESSAGE_SIZE_LIMIT=1000m
</pre></div>


<p>然后运行<code>update-exim4.conf</code>更新配置文件即可。</p>
<h4 id="a6ca7a70b14f9ff585752f473fb75428">mutt安装和使用</h4>
<p>安装mutt
<code>apt-get install mutt</code></p>
<p>设置mutt，mutt的默认配置文件在<code>~/.muttrc</code>，如果不存在，则从例子里拷贝并修改之，详细的配置说明可参考mutt的相关<a href="http://dev.mutt.org/trac/wiki/MuttGuide">文档</a>和archlinux wiki的<a href="https://wiki.archlinux.org/index.php/mutt">mutt</a>。</p>
<div class="codehilite"><pre>cp /usr/share/doc/mutt/examples/sample.muttrc.gz ~
gzip -d ~/sample.muttrc.gz
mv ~/sample.muttrc ~/.muttrc
</pre></div>


<p>下面的命令将发送一份邮件给a@hotmail.com和a@qq.com，邮件的主题是host backup，邮件内容是host backup on wishome.name，附件是file_a。注意不要漏掉命令中的'--'，在-a选项后添加邮件地址时这是必须的。</p>
<div class="codehilite"><pre>echo &#39;host backup from wishome.name&#39; | mutt -a &#39;file_a&#39; -s &#39;host backup&#39; -- a@hotmail.com a@qq.com
</pre></div>


<h3 id="a200afdcd7fa77f07d8fa53a36ce93dc">常用系统配置</h3>
<ol>
<li>
<p>设置常用编辑器。</p>
<p>update-alternatives --config editor</p>
</li>
</ol>
<h2 id="3bc1ccb9ffda6533c41b69d4363a8695">安装和配置php</h2>
<h3 id="cf392fbcf69487de7f36b1fd6a28ab92">FastCgi</h3>
<p>PHP-FPM (FastCGI Process Manager)是一种常用的fastcgi的实现方式。使用如下命令安装:
<code bash="bash">apt-get install php5-fpm</code>
日后使用service php5-fpm start/stop/restart进行管理即可。</p>
<p>另外，若不想使用php-fpm，可参考<a href="http://library.linode.com/web-servers/nginx/php-fastcgi/debian-6-squeeze#sph_tcp-sockets-configuration-example">这里</a>的教程自己编写fastcgi的实现。</p>
<h2 id="cf8346aee3f2f90590560ac11b64f8c9">安装和配置nginx</h2>
<h3 id="57782bdb2f12aa481f5402931aa64695">安装nginx</h3>
<p>为了安装最新的nginx，在软件源<code>/etc/apt/sources.list</code>中添加以下两条记录</p>
<div class="codehilite"><pre>deb http://nginx.org/packages/debian/ squeeze nginx
deb-src http://nginx.org/packages/debian/ squeeze nginx
</pre></div>


<p>然后，获取nginx源的key并添加到apt的key列表中，记得更新软件源列表。</p>
<div class="codehilite"><pre>wget http://nginx.org/keys/nginx_signing.key -O - | apt-key add -
apt-get update
apt-get install nginx
</pre></div>


<h2 id="732781d543893cca64c072b18d96493d">dokuwiki rewrite配置</h2>
<p>已测试nginx版本: 1.2.4, 1.2.5</p>
<p>为了让dokuwiki支持类似<code>domain.com/wiki/syntax</code>的简洁url，需要分两步进行设置。</p>
<h3 id="6f885a63c3dd6045f157b26c9c66b2e6">1. dokuwiki设置</h3>
<p>进入dokuwiki配置界面，并定位到<code>高级设置</code>。将userewrite修改为<code>.htaccess</code>。</p>
<h3 id="c68117d40a7026750856bf9783e0c282">2. 服务器rewrite设置</h3>
<p>如果经过以下设置后重写依然失败，可以尝试清空浏览器缓存和dokuwiki的缓存<code>rm -Rf %dokuwiki_home%/data/cache/*</code>后再重试。</p>
<h4 id="485afd38344feb16824ed6062f5968e0">2.1 nginx1.2.4设置</h4>
<p>参考<a href="https://www.dokuwiki.org/rewrite">https://www.dokuwiki.org/rewrite</a>，为nginx添加重写规则，这里修改的文件是/etc/nginx/conf.d/default.conf。我的dokuwiki主目录位于/var/www/kb，使用<code>atime.me/wiki/</code>访问wiki, 相关设置如下所示。</p>
<div class="codehilite"><pre>root /var/www;
# dokuwiki

location /kb {
    index doku.php;
    try_files $uri $uri/ @dokuwiki;
}

location @dokuwiki {
    rewrite ^/kb/_media/(.*) /kb/lib/exe/fetch.php?media=$1 last;
    rewrite ^/kb/_detail/(.*) /kb/lib/exe/detail.php?media=$1 last;
    rewrite ^/kb/_export/([^/]+)/(.*) /kb/doku.php?do=export_$1&amp;id=$2 last;
    rewrite ^/kb/(.*) /kb/doku.php?id=$1 last;
}

location ~ /(data|conf|bin|inc)/ {
    deny all;
}
</pre></div>


<p>设置完成后运行<code>service nginx restart</code>重启nginx服务器即可。</p>
<p>该重写规则完全参考了<a href="https://www.dokuwiki.org/rewrite">https://www.dokuwiki.org/rewrite</a>中的<code>For NGINX 0.7.65 or later</code>版本，只是根据dokuwiki的实际所在位置，在规则前添加/kb目录前缀。如果出现<code>no input files specialfied</code>错误，则表明php-fastcgi无法找到文件，尝试修改规则的目录前缀。如果设置无效，请尝试清空浏览器缓存和dokuwiki的缓存后再重试。</p>
<p>倘若使用<code>wiki.atime.me</code>访问dokuwiki, 应当使用以下重写规则:</p>
<div class="codehilite"><pre>location / {
    index doku.php;
    try_files $uri $uri/ @dokuwiki;
}

location @dokuwiki {
    rewrite ^/_media/(.*) /lib/exe/fetch.php?media=$1 last;
    rewrite ^/_detail/(.*) /lib/exe/detail.php?media=$1 last;
    rewrite ^/_export/([^/]+)/(.*) /doku.php?do=export_$1&amp;id=$2 last;
    rewrite ^/(.*) /doku.php?id=$1 last;
}

location ~ /(data|conf|bin|inc)/ {
    deny all;
}
</pre></div>


<h4 id="3d12e7258d74de78a5e59e2e1c6b9cce">2.2 apache2.2.16设置</h4>
<p>首先运行<code>a2enmod rewrite</code>启用rewrite模块。为了允许使用.htaccess文件，修改<code>/etc/apache2/sites-enabled/000default</code>中相关Directory的AllowOverride属性为<code>AllowOverride All</code>。如下即可。</p>
<div class="codehilite"><pre>DocumentRoot /var/www
`&lt;Directory /var/www/&gt;`
    AllowOverride All
    ...
</pre></div>


<p>设置好后运行<code>service apache2 restart</code>重启apache服务器。
之后进入dokuwiki的主目录，将.htaccess.dist拷贝为.htaccess文件，并去掉以下各行前的注释符<code>#</code>。</p>
<div class="codehilite"><pre>RewriteEngine on
RewriteRule ^_media/(.*)              lib/exe/fetch.php?media=$1  [QSA,L]
RewriteRule ^_detail/(.*)             lib/exe/detail.php?media=$1  [QSA,L]
RewriteRule ^_export/([^/]+)/(.*)     doku.php?do=export_$1&amp;id=$2  [QSA,L]
RewriteRule ^$                        doku.php  [L]
RewriteCond %{REQUEST_FILENAME}       !-f
RewriteCond %{REQUEST_FILENAME}       !-d
RewriteRule (.*)                      doku.php?id=$1  [QSA,L]
RewriteRule ^index.php$               doku.php
</pre></div>


<p>如果以上设置无效，请尝试清空浏览器缓存和dokuwiki的缓存。</p>
<h2 id="30b5603d464526ce748f19b65f502e1a">phpmyadmin</h2>
<h3 id="1164847d940ccc6d9670f57d6cc0154b">Sohusin问题</h3>
<p>当使用apache2服务器并安装了Suhosin模块时，使用phpmyadmin时可能会在页面下方看到类似<code>链接表的额外特性尚未激活。要查出原因，请点击此处。</code>或<code>Server running with Suhosin. Please refer to documentation for possible issues</code>的错误提示。
参考<a href="http://www.webhostingtalk.com/archive/index.php/t-1144204.html">这里</a>，我的解决方案分为如下两步。</p>
<h4 id="6a632a27e1f6a8d8d862b0f275122428">1. 为phpmyadmin禁用Suhosin</h4>
<p>修改php.ini，添加以下项。假设phpmyadmin安装于/usr/share/phpmyadmin。</p>
<div class="codehilite"><pre>[PATH=/usr/share/phpmyadmin]
suhosin.simulation = On
</pre></div>


<h4 id="d6a8f16268edc26bcf845e154a4b824a">2. 关闭Suhosin警告</h4>
<p>修改<code>/etc/phpmyadmin/config.inc.php</code>，添加如下项。</p>
<div class="codehilite"><pre>$cfg[&#39;SuhosinDisableWarning&#39;]=&#39;true&#39;;
</pre></div>


<h2 id="fe6dde8eea665079c0e14407b08324f3">备份设置</h2>
<p>使用python脚本进行备份和恢复，可以通过配置文件自定义备份选项。备份后的数据可以发送到多个邮件地址，在邮件服务器上设置邮件收信规则即可自动管理数据备份。</p>
<ul>
<li><a href="/codes/projects/host_backup#backup-config.ini">backup-config.ini</a> 备份和恢复的配置文件</li>
<li>host-admin.py 用于备份和恢复</li>
<li>aes.py aes加密和解密，取自<a href="http://code.google.com/p/slowaes/">slowaes工程</a></li>
</ul>
<h2 id="bf9e4d17e387b5161eedf03a07d96480">计划任务cron</h2>
<p><a href="http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/">这里</a>有详细的介绍，还有很多例子，推荐阅读。
下面是我的计划任务，使用<a href="/codes/projects/host_backup">这个备份脚本</a>在每天凌晨备份一下dokuwiki的数据和wordpress的数据库，备份的数据都会被发送到邮箱里。</p>
<div class="codehilite"><pre>00 01 * * * /root/bin/host-admin/host-admin.py -c /root/bin/host-admin/daily-backup.ini -b
</pre></div>


<p>需要注意的是，如果使用<code>/etc/cron.*</code>来放置任务脚本，脚本名(或软链接名)中不能包含点号<code>.</code>，否则任务将无法执行且没有任何提示信息，详细信息可参考<a href="https://help.ubuntu.com/community/CronHowto">Ubuntu CronHowto wiki</a>。</p>
<h2 id="81f5d554d30e82d475ed29a45a7c4277">阅读资料</h2>
<ul>
<li><a href="http://serverfault.com/questions/374651/apt-get-update-getting-404-on-debian-lenny">debian5软件源列表</a></li>
<li><a href="http://serverfault.com/questions/337278/debian-how-can-i-securely-get-debian-archive-keyring-so-that-i-can-do-an-apt-g">debian archive keyring</a></li>
<li><a href="http://leven.co/blog/view/133">debian5升级到debian6</a></li>
<li><a href="http://www.thegeekstuff.com/2009/10/debian-ubuntu-install-upgrade-remove-packages-using-apt-get-apt-cache-apt-file-dpkg/">apt工具集合介绍</a></li>
<li><a href="http://www.9usb.net/201002/linux-screen-mingling.html">screen介绍</a></li>
<li><a href="http://zww.me/archives/25688">debian下配置exim4发送邮件</a></li>
<li><a href="http://www.exim.org/exim-html-4.20/doc/html/">exim4文档</a></li>
<li><a href="http://techteam.wordpress.com/2009/05/13/how-to-attach-large-files-to-command-line-email/">exim4发送大文件</a></li>
<li><a href="http://dev.mutt.org/trac/wiki/MuttGuide">mutt文档</a></li>
<li><a href="https://wiki.archlinux.org/index.php/mutt">archlinux mutt wiki</a></li>
<li><a href="http://openswitch.org/blog/setting-up-mutt-on-ubuntu-12-dot-04/">Setting Up Mutt on Ubuntu 12.04</a></li>
<li><a href="http://www.iamist.com/2011/08/linux-101-using-mutt-to-send-email.html">使用mutt发送邮件</a></li>
<li><a href="https://www.dokuwiki.org/rewrite">dokuwiki rewrite手册</a></li>
<li><a href="http://library.linode.com/web-servers/nginx/php-fastcgi/debian-6-squeeze">debian6 nginx fastcgi配置</a></li>
<li><a href="http://www.webhostingtalk.com/archive/index.php/t-1144204.html">phpmyadmin suhosin问题</a></li>
<li><a href="http://library.linode.com/web-servers/nginx/perl-fastcgi/debian-6-squeeze">debian6 perl fastcgi</a></li>
<li><a href="http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/">crontab例子</a></li>
<li><a href="https://help.ubuntu.com/community/CronHowto">Cron Howto</a> from Ubuntu wiki</li>
</ul>
    </div>
    <div id="content-comments">
<!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">var duoshuoQuery={short_name:"vic-story"};(function(){var a=document.createElement("script");a.type="text/javascript";a.async=true;a.src=(document.location.protocol=="https:"?"https:":"http:")+"//static.duoshuo.com/embed.js";a.charset="UTF-8";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)})();</script>
<!-- Duoshuo Comment END --></div>

</div>
<div class="niu2-right-container col-md-2">
    <div id="niu2-sidebar-meta" class="niu2-sidebar">
        <div class="niu2-sidebar-label"><i class="fa fa-calendar"></i>发布时间:</div>
        <div class="niu2-sidebar-value">2013-08-08 12:14</div>
        <div class="niu2-sidebar-label"><i class="fa fa-pencil" style="font-size: 1.05em;"></i>最后修改:</div>
        <div class="niu2-sidebar-value">2013-11-04 10:38</div>
        <div class="niu2-sidebar-label"><i class="fa fa-book"></i>分类:</div>
        <div class="niu2-sidebar-value"><a href="http://www.zhuimengle.com/note/index.html">印象-笔记</a></div>
        <div class="niu2-sidebar-label"><i class="fa fa-tag"></i>标签:</div>
 
            <div class="niu2-sidebar-inter-value niu2-sidebar-tag"><a href="http://www.zhuimengle.com/tag/linux_server.html">linux_server</a><sup>3</sup></div>
            <div class="niu2-sidebar-inter-value niu2-sidebar-tag"><a href="http://www.zhuimengle.com/tag/jiao-cheng.html">教程</a><sup>13</sup></div>
            <div class="niu2-sidebar-inter-value niu2-sidebar-tag"><a href="http://www.zhuimengle.com/tag/install.html">install</a><sup>6</sup></div>
    </div>
</div>

<div class="niu2-right-container col-md-3">
    <div id="niu2-sidebar-toc" class="niu2-sidebar" data-status="closed">
        <div class="niu2-sidebar-label">
            <i id="niu2-sidebar-toc-ctrl" class="fa fa-plus"></i>目录
        </div>
        <ol id="niu2-sidebar-toc-list">
            <li><a href="#content-heading">Linux网站搭建手册</a></li>
            <li><a href='#1c934df157d95df9325c628e742feb1b'>debian5 lenny</a><ol><li><a href='#29e37abe3cf455f5819d6274678b2289'>软件源问题</a></li><li><a href='#3836cdb0f6cf90e1bd8759b67c3d798d'>升级到debian6</a><ol><li><a href='#f2d31f875b6098119e9345bd0e2ad04c'>1. 修改本机的hostname</a></li><li><a href='#75db7a4e1339540addaeeb39ee7a0693'>2. 更新软件源</a></li><li><a href='#7e8607cd87af77eb2f4f1c38d5db85ed'>3. 开始升级</a></li></ol></li></ol></li><li><a href='#3ee6760cf9add779dc9af759c652bc82'>debian6 squeeze</a><ol><li><a href='#56b7eb1c7e53f37471bb52aa15507b5f'>常用软件</a></li><li><a href='#6fa04de0e2d17f04382753f0f7cdbdfa'>邮件设置</a><ol><li><a href='#623916b1abbe57601f3e7b6e4822555c'>exim4 安装和配置</a></li><li><a href='#a6ca7a70b14f9ff585752f473fb75428'>mutt安装和使用</a></li></ol></li><li><a href='#a200afdcd7fa77f07d8fa53a36ce93dc'>常用系统配置</a></li></ol></li><li><a href='#3bc1ccb9ffda6533c41b69d4363a8695'>安装和配置php</a><ol><li><a href='#cf392fbcf69487de7f36b1fd6a28ab92'>FastCgi</a></li></ol></li><li><a href='#cf8346aee3f2f90590560ac11b64f8c9'>安装和配置nginx</a><ol><li><a href='#57782bdb2f12aa481f5402931aa64695'>安装nginx</a></li></ol></li><li><a href='#732781d543893cca64c072b18d96493d'>dokuwiki rewrite配置</a><ol><li><a href='#6f885a63c3dd6045f157b26c9c66b2e6'>1. dokuwiki设置</a></li><li><a href='#c68117d40a7026750856bf9783e0c282'>2. 服务器rewrite设置</a><ol><li><a href='#485afd38344feb16824ed6062f5968e0'>2.1 nginx1.2.4设置</a></li><li><a href='#3d12e7258d74de78a5e59e2e1c6b9cce'>2.2 apache2.2.16设置</a></li></ol></li></ol></li><li><a href='#30b5603d464526ce748f19b65f502e1a'>phpmyadmin</a><ol><li><a href='#1164847d940ccc6d9670f57d6cc0154b'>Sohusin问题</a><ol><li><a href='#6a632a27e1f6a8d8d862b0f275122428'>1. 为phpmyadmin禁用Suhosin</a></li><li><a href='#d6a8f16268edc26bcf845e154a4b824a'>2. 关闭Suhosin警告</a></li></ol></li></ol></li><li><a href='#fe6dde8eea665079c0e14407b08324f3'>备份设置</a></li><li><a href='#bf9e4d17e387b5161eedf03a07d96480'>计划任务cron</a></li><li><a href='#81f5d554d30e82d475ed29a45a7c4277'>阅读资料</a></li>
            <li><a href="#content-comments">评论</a></li>
        </ol>
    </div>
</div>
    </div>

    <div id="body-footer" class="col-md-6 col-md-offset-2">
<div class="niu2-footer">
    <hr/>
	<p>
		Powered by <a href="https://github.com/getpelican/pelican">Pelican</a>, 
        <a href="https://github.com/mawenbao/niu-x2-sidebar">theme</a> built with <a href="http://getbootstrap.com">Bootstrap3</a>
		by <a href="http://blog.atime.me">Ma Wenbao</a>, icons by 
		<a href="http://fortawesome.github.io/Font-Awesome">Font Awesome</a>.
	</p>
	<p>
		©
				2009-2014
		<a class="niu2-footer-link" href="http://www.zhuimengle.com">vk</a>
    </p>
    <p class="niu2-icons">
	        <a class="niu2-footer-icon" href="/my_gnupg.html" title="my public key">
	            <i class="fa fa-key fa-lg"></i>
	        </a>
	        <a class="niu2-footer-icon" href="V: dolphinzhang1987@gmail.com" title="my email address">
	            <i class="fa fa-envelope-o fa-lg"></i>
	        </a>
	        <a class="niu2-footer-icon" href="https://github.com/vickyi" title="my github page">
	            <i class="fa fa-github-alt fa-lg"></i>
	        </a>
	        <a class="niu2-footer-icon" href="/feed.xml" title="subscribe my blog">
	            <i class="fa fa-rss fa-lg"></i>
	        </a>
	</p>
</div>    </div>
    
    <div id="niu2-pygments" data-theme="github"></div>

    <script type="text/javascript" src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="http://www.zhuimengle.com/theme/js/niu2.min.js"></script>
    <script type="text/javascript" src="http://www.zhuimengle.com/theme/js/bootstrap.min.js"></script>
    <script type="text/javascript">onContentLoaded();</script>
  </body>
</html>